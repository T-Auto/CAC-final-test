# Question

假设有一个池塘，里面有无穷多的水。现有2个空水壶，容积分别为5升和6升。问题是如何只用这2个水壶从池塘里取得3升的水。


# Analysis

## 正确答案

**可以取得3升水** - 多种解法，以下是其中一种：

### 解法步骤：
1. 将6升水壶装满（6升壶：6L，5升壶：0L）
2. 将6升水壶中的水倒入5升水壶（6升壶：1L，5升壶：5L）
3. 倒空5升水壶（6升壶：1L，5升壶：0L）
4. 将6升水壶中剩余的1升倒入5升水壶（6升壶：0L，5升壶：1L）
5. 再次将6升水壶装满（6升壶：6L，5升壶：1L）
6. 将6升水壶中的水倒入5升水壶直至满（6升壶：2L，5升壶：5L）
7. 倒空5升水壶（6升壶：2L，5升壶：0L）
8. 将6升水壶中剩余的2升倒入5升水壶（6升壶：0L，5升壶：2L）
9. 最后将6升水壶装满（6升壶：6L，5升壶：2L）
10. 将6升水壶中的水倒入5升水壶直至满（6升壶：3L，5升壶：5L）
11. **6升水壶中剩余的水即为3升！**

### 最终状态：
- 6升水壶：3升 ✓
- 5升水壶：5升


## 解题过程

### 方法论
这是一道**状态转移问题**，需要通过一系列操作在两种水壶之间倒水，最终使其中一壶恰好为3升。

### 关键概念
1. **状态**：用有序对(6升壶水量, 5升壶水量)表示
2. **操作**：装满、倒空、倒入
3. **目标状态**：其中一个水壶水量为3升

### 数学分析
- 初始状态：(0, 0)
- 目标状态：(3, *) 或 (*, 3)
- 可达状态：符合贝祖定理（扩展欧几里得定理）

**贝祖定理应用**：
要找整数解 a×6 + b×5 = 3
即求最大公约数 gcd(5, 6) = 1 能整除 3，因此有解。

### 状态转移图
```
(0,0) → (6,0) → (1,5) → (1,0) → (0,1) → (6,1)
  ↓       ↓       ↓       ↓       ↓
(0,0) ← (0,5) ← (5,0) ← (5,5) ← (0,6) ← (6,5)
```

### 操作类型
1. **F(i)**：装满第i个水壶
2. **E(i)**：倒空第i个水壶
3. **T(i→j)**：将第i个水壶倒入第j个水壶

### 优化策略
- 避免重复状态
- 使用BFS或DFS搜索最短路径
- 记录已访问状态避免循环

### 程序化解法
可以用算法解决，但核心是理解状态转移规律。


## 常见错误

### 错误1：试错无系统性
- 只凭感觉尝试，效率低
- 可能重复无效操作
- 容易放弃

### 错误2：思维局限
- 认为必须一次性得到3升
- 忽略中间状态的价值
- 没有理解问题的本质是状态转移

### 错误3：计算错误
- 倒水时未考虑容量限制
- 状态记录混乱
- 忘记倒空水壶

### 错误4：未达最优
- 用了过多步骤（标准解法9步，有更简解法）


## 思维陷阱

这道题考察的核心能力：

1. **抽象思维**：将实际问题抽象为数学模型
   - 状态空间
   - 状态转移
   - 目标达成

2. **系统化思维**：
   - 有序思考每一步
   - 记录中间状态
   - 避免重复和循环

3. **逻辑推理**：
   - 理解操作的等价性
   - 预见操作结果
   - 规划最优路径

4. **数学直觉**：
   - 理解贝祖定理（可解性条件）
   - 状态空间的有限性
   - 对称性和周期性

## 拓展思考

### 更复杂的情况
如果有n个不同容量的水壶，如何得到目标水量？
- 一般化为线性丢番图方程问题
- 可解性：目标水量必须是gcd的倍数

### 相关问题
- 经典水壶问题变种
- 旅行商问题的简化版
- 状态机设计
- 自动机理论

### 实际应用
- 资源分配优化
- 物流调度
- 生产流程设计
- 计算机科学中的状态转换


## 验证方法

**测试用例**：
- 验证最终6升水壶中水量为3升
- 验证所有操作符合物理约束
- 验证步骤的最小性（可优化）

**扩展验证**：
- 尝试其他解法（更少步骤）
- 验证解的存在性（贝祖定理）
- 验证解的可达性（状态连通性）
