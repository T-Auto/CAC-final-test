> **题目来源**：2025 CMO预赛（高联一试）第二题
>
> ⚠️ 此题目未经过其他模型测试，后续可能调整难度等级为 final test

# Question

设集合 $A = \{1, 2, 3, \dots, 100\}$，$B = \left\{ a^2 + 2^a \mid a \in A \right\}$，则 $A \cup B$ 的元素个数为 $\underline{\quad\quad}$。


# Analysis

## 正确答案

**194**

## 解题过程

### 步骤1：分析问题结构

设 $f(a) = a^2 + 2^a$，则 $B = \{f(a) \mid a \in A\}$。

需要计算 $|A \cup B| = |A| + |B| - |A \cap B|$

### 步骤2：证明 f(a) 严格递增

$$f(a+1) - f(a) = [(a+1)^2 - a^2] + [2^{a+1} - 2^a] = (2a+1) + 2^a > 0$$

因此 $f$ 在整数域上严格递增，$f(1), f(2), \dots, f(100)$ 两两不同，故 $|B| = 100$。

### 步骤3：确定交集 A ∩ B

计算小值：

| $a$ | $a^2$ | $2^a$ | $f(a) = a^2 + 2^a$ |
|-----|-------|-------|-------------------|
| 1   | 1     | 2     | 3                 |
| 2   | 4     | 4     | 8                 |
| 3   | 9     | 8     | 17                |
| 4   | 16    | 16    | 32                |
| 5   | 25    | 32    | 57                |
| 6   | 36    | 64    | 100               |
| 7   | 49    | 128   | 177 > 100         |

对于 $a \geq 7$，$2^a \geq 128$，故 $f(a) > 100$。

因此 $A \cap B = \{3, 8, 17, 32, 57, 100\}$，$|A \cap B| = 6$

### 步骤4：计算结果

$$|A \cup B| = 100 + 100 - 6 = 194$$

## 常见错误

**错误1：忽略单调性分析**
- 错误：未证明 $f(a)$ 单调，直接假设 $|B| = 100$
- 正确：需证明 $f$ 严格递增才能确保 $B$ 有 100 个不同元素

**错误2：交集计算遗漏**
- 错误：忘记检查 $f(a)$ 是否落在 $A$ 中
- 正确：需逐一验证 $f(a) \leq 100$ 的情况

**错误3：容斥原理应用错误**
- 错误：$|A \cup B| = |A| + |B|$（忘记减去交集）
- 正确：$|A \cup B| = |A| + |B| - |A \cap B|$

**错误4：边界值计算错误**
- 错误：$f(6) = 36 + 64 = 98$（计算失误）
- 正确：$f(6) = 36 + 64 = 100$

## 核心考点

1. **集合的并集运算**：容斥原理的应用
2. **函数单调性分析**：证明 $f(a) = a^2 + 2^a$ 严格递增
3. **集合元素的计数**：单射保证元素个数
4. **数值计算能力**：准确计算 $2^a$ 和 $a^2$

## 知识扩展

**指数函数增长特性**：
- $2^a$ 增长远快于 $a^2$，当 $a$ 较大时，$f(a) \approx 2^a$
- 对于 $a = 100$：$f(100) = 10000 + 2^{100} \approx 1.27 \times 10^{30}$

**一般化问题**：
- 若 $A = \{1, 2, \dots, n\}$，$B = \{a^2 + 2^a \mid a \in A\}$
- 设 $k$ 为满足 $k^2 + 2^k \leq n$ 的最大整数
- 则 $|A \cup B| = 2n - k$
