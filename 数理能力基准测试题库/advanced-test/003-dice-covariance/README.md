# Question

掷两颗均匀骰子，以 X 表示第一颗骰子掷出的点数，Y 表示两颗骰子所掷出的点数中的最大值。

(1) 求 X, Y 的数学期望与方差

(2) 求 Cov(X, Y)


# Analysis

## 正确答案

**E(X) = 7/2 = 3.5**
**E(Y) = 161/36 ≈ 4.472**

**Var(X) = 35/12 ≈ 2.917**
**Var(Y) = 2555/1296 ≈ 1.972**

**Cov(X, Y) = 154/9 - (7/2) × (161/36) = 35/24 ≈ 1.458**

## 解题过程

### 步骤1：分析 X 的分布

X 是第一颗骰子的点数，分布为：
**P(X = k) = 1/6**，其中 k = 1, 2, 3, 4, 5, 6

**E(X) = (1 + 2 + 3 + 4 + 5 + 6) / 6 = 21/6 = 7/2 = 3.5**

**E(X²) = (1² + 2² + 3² + 4² + 5² + 6²) / 6 = 91/6**

**Var(X) = E(X²) - [E(X)]² = 91/6 - (7/2)² = 91/6 - 49/4 = 182/12 - 147/12 = 35/12 ≈ 2.917**

### 步骤2：分析 Y 的分布（最大值分布）

Y 是两颗骰子的最大值，其分布为：

**P(Y = k) = P(max ≤ k) - P(max ≤ k-1) = (k/6)² - ((k-1)/6)²**

计算得：
- P(Y = 1) = (1/6)² - (0/6)² = 1/36
- P(Y = 2) = (2/6)² - (1/6)² = 4/36 - 1/36 = 3/36
- P(Y = 3) = (3/6)² - (2/6)² = 9/36 - 4/36 = 5/36
- P(Y = 4) = (4/6)² - (3/6)² = 16/36 - 9/36 = 7/36
- P(Y = 5) = (5/6)² - (4/6)² = 25/36 - 16/36 = 9/36
- P(Y = 6) = (6/6)² - (5/6)² = 36/36 - 25/36 = 11/36

**验证：ΣP(Y = k) = (1+3+5+7+9+11)/36 = 36/36 = 1 ✓**

### 步骤3：计算 E(Y) 和 Var(Y)

**E(Y) = Σk·P(Y=k)**
= 1×(1/36) + 2×(3/36) + 3×(5/36) + 4×(7/36) + 5×(9/36) + 6×(11/36)
= (1 + 6 + 15 + 28 + 45 + 66)/36
= 161/36 ≈ 4.472

**E(Y²) = Σk²·P(Y=k)**
= 1×(1/36) + 4×(3/36) + 9×(5/36) + 16×(7/36) + 25×(9/36) + 36×(11/36)
= (1 + 12 + 45 + 112 + 225 + 396)/36
= 791/36

**Var(Y) = E(Y²) - [E(Y)]² = 791/36 - (161/36)²**
= (791×36 - 161²)/1296
= (28476 - 25921)/1296
= 2555/1296 ≈ 1.972

### 步骤4：计算协方差 Cov(X, Y)

协方差公式：**Cov(X, Y) = E(XY) - E(X)E(Y)**

需要计算 E(XY) = E[X·max(X₁, X₂)]，其中 X₁, X₂ 是两颗骰子

**方法：使用条件期望**
对每个 x，计算 E[Y|X=x] = E[max(x, X₂)]

- 当 X₂ ≤ x 时，max(x, X₂) = x
- 当 X₂ > x 时，max(x, X₂) = X₂

E[X₂|X₂ ≤ x] = (1 + 2 + ... + x)/x = (x+1)/2
E[X₂|X₂ > x] = (x+1 + ... + 6)/(6-x) = (x+7)/2

因此：
E[Y|X=x] = x·P(X₂ ≤ x) + E[X₂|X₂ > x]·P(X₂ > x)
= x·(x/6) + [(x+1+...+6)/(6-x)] × ((6-x)/6)
= (x²/6) + [(x+7)/2] × ((6-x)/6)
= (x²/6) + (x+7)(6-x)/12
= (x² - x + 42)/12

代入公式并积分：
E(XY) = Σx·E[Y|X=x]·P(X=x)
= (1/6) × Σ[x·E[Y|X=x]]_{x=1 to 6}

因此：
x·E[Y|X=x] = x·(x² - x + 42)/12 = (x³ - x² + 42x)/12

计算各项：
- x=1: (1³ - 1² + 42×1)/12 = (1 - 1 + 42)/12 = 42/12
- x=2: (8 - 4 + 84)/12 = 88/12
- x=3: (27 - 9 + 126)/12 = 144/12
- x=4: (64 - 16 + 168)/12 = 216/12
- x=5: (125 - 25 + 210)/12 = 310/12
- x=6: (216 - 36 + 252)/12 = 432/12

总计：E(XY) = (1/6) × (42 + 88 + 144 + 216 + 310 + 432)/12
= (1/6) × (1232/12)
= 1232/72 = 154/9

**协方差计算：**
Cov(X, Y) = E(XY) - E(X)E(Y) = 154/9 - (7/2) × (161/36)
= 1232/72 - 1127/72 = 105/72 = 35/24 ≈ 1.458

## 常见错误

**错误1：假设 X 和 Y 独立**
- 错误：认为 Cov(X, Y) = 0
- 正确：X 和 Y 不独立，X 越大，Y 也倾向于更大

**错误2：Y 的分布计算错误**
- 错误：认为 P(Y=k) = P(两颗骰子都=k) = (1/6)²
- 正确：P(Y=k) 是最大值恰好为 k 的概率

**错误3：期望计算遗漏**
- E(Y) 计算时应为 Σk×P(Y=k)，容易遗漏乘数 k
- 必须完整计算所有 k 值

**错误4：方差公式记忆错误**
- 错误：Var(Y) = E(Y²) - E(Y)（漏掉平方）
- 正确：Var(Y) = E(Y²) - [E(Y)]²

## 核心考点

1. **离散随机变量分布**：正确建立概率分布模型
2. **期望与方差计算**：掌握基本公式和计算技巧
3. **最大值分布**：理解顺序统计量的分布推导
4. **条件概率与条件期望**：利用条件化简复杂计算
5. **协方差概念**：理解相关性度量及其计算
6. **积分求和技巧**：复杂离散分布的期望计算方法

## 知识扩展

**更一般的形式 - n 颗骰子的最大值**：
- Yₙ = max(X₁, X₂, ..., Xₙ)，其中 Xᵢ ~ Uniform{1, 2, ..., 6}
- P(Yₙ ≤ k) = (k/6)ⁿ
- P(Yₙ = k) = (k/6)ⁿ - ((k-1)/6)ⁿ
- E(Yₙ) = Σk=1 to 6 [1 - (k/6)ⁿ]

**两颗骰子的其他统计量**：
- 最小值分布：P(min = k) = (13-2k)/36, k=1,2,3,4,5
- 和的分布：P(X₁+X₂=k) = (6-|k-7|)/36, k=2,3,...,12
- 差的分布：P(X₁-X₂=k) = (6-|k|)/36, k=-5,-4,...,-1,0,1,...,5

**协方差的另一种解释**：
- Cov(X,Y) > 0 说明 X 和 Y 正相关，即 X 越大，Y 也有增大的趋势
- 本题中 Cov(X,Y) = 35/24 ≈ 1.458 > 0 表明最大值 Y 与第一颗骰子 X 有正相关关系
