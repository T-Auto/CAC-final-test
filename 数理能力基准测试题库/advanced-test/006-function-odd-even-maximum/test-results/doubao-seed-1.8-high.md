### 解题过程：

#### 步骤1：利用奇偶性列出方程
已知 \( g(x) = (x-1)f(x) \) 是奇函数，根据奇函数性质 \( g(-x) = -g(x) \)，可得：
\[
(-x - 1)f(-x) = -(x - 1)f(x)
\]
两边消去负号，整理得：
\[
(x + 1)f(-x) = (x - 1)f(x) \tag{1}
\]

又已知 \( h(x) = f(x) + x \) 是偶函数，根据偶函数性质 \( h(-x) = h(x) \)，可得：
\[
f(-x) - x = f(x) + x
\]
整理得：
\[
f(-x) = f(x) + 2x \tag{2}
\]

#### 步骤2：联立方程求解 \( f(x) \)
将方程(2)代入方程(1)，把 \( f(-x) = f(x) + 2x \) 代入 \( (x + 1)f(-x) = (x - 1)f(x) \)，得：
\[
(x + 1)\left[f(x) + 2x\right] = (x - 1)f(x)
\]

展开左边并整理：
\[
(x + 1)f(x) + 2x(x + 1) = (x - 1)f(x)
\]

将含 \( f(x) \) 的项移到右边：
\[
2x^2 + 2x = (x - 1)f(x) - (x + 1)f(x)
\]

合并右边同类项：
\[
2x^2 + 2x = -2f(x)
\]

两边除以2，解得：
\[
f(x) = -x^2 - x
\]

#### 步骤3：求 \( f(x) \) 的最大值
\( f(x) = -x^2 - x \) 是开口向下的二次函数，其顶点为最大值点。二次函数的一般形式为 \( ax^2 + bx + c \)（这里 \( a = -1 \)，\( b = -1 \)，\( c = 0 \)），顶点的横坐标为：
\[
x = -\frac{b}{2a} = -\frac{-1}{2 \times (-1)} = -\frac{1}{2}
\]

将 \( x = -\frac{1}{2} \) 代入 \( f(x) \)，计算最大值：
\[
f\left(-\frac{1}{2}\right) = -\left(-\frac{1}{2}\right)^2 - \left(-\frac{1}{2}\right) = -\frac{1}{4} + \frac{1}{2} = \frac{1}{4}
\]

### 最终答案
\( f(x) \) 的最大值为 \( \boxed{\frac{1}{4}} \)。