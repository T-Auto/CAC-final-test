# 仓库维护规范 v2.0

> **❗在push和提交pr之前务必阅读此文档**

## 文件组织规范

总体逻辑如下：
```text
# 子目录需要遵循两层次分类
CAC-final-test/
├── 代码能力基准测试题库/
│   ├── advanced-test/
│   ├── base-test/
│   ├── final-test/
│   └── final-test+/
├── 数理能力基准测试题库/
│   ├── advanced-test/
│   ├── base-test/
│   ├── final-test/
│   └── final-test+/
├── 自然语言与逻辑能力基准测试题库/
│   ├── advanced-test/
│   ├── base-test/
│   ├── final-test/
│   └── final-test+/
├── 综合能力测评/
├── README.md  # 简介
└── CONTRIBUTING.md # 仓库维护手册
```

对于具体分类题库，这里以 `自然语言与逻辑能力基准测试题库/base-test/` 为例子：
```text
# 题目以目录形式组织，遵循时间顺序编号
base-test/
├── 001-age-multiple-reasoning/
│   ├── README.md
│   └── test-results/
├── 002-clock-interval-trap/
│   ├── README.md
│   └── test-results/
├── 003-direction-reasoning/
│   ├── README.md
│   └── test-results/
└── .gitkeep
```

**目录命名规则：**
- `NNN-problem-name/`：三位数字编号 + 连字符 + 问题描述（小写英文，单词间用连字符分隔）
- 每个题目目录必须包含 `README.md` 文件（题目内容）
- 每个题目目录必须包含 `test-results/` 子目录（存放该题目的测试结果）

## 测试结果存放规范

为保证测试结果可追溯且与题目一一对应，测试结果文件存放在对应题目目录下的 `test-results/` 子目录中。

**目录结构示例：**
```text
自然语言与逻辑能力基准测试题库/base-test/
├── 001-age-multiple-reasoning/
│   ├── README.md
│   └── test-results/
│       ├── claude-3.5-sonnet.md
│       ├── gpt-4o.md
│       └── deepseek.md
├── 002-clock-interval-trap/
│   ├── README.md
│   └── test-results/
│       ├── claude-3.5-sonnet.md
│       └── gpt-4o.md
```

**命名规则：**
- 测试结果文件名：`模型名.md`
- 模型名仅使用小写字母、数字和连字符
- 每个模型的测试结果独立存放在一个文件中

**完整对应示例：**
```text
# 题目目录
自然语言与逻辑能力基准测试题库/base-test/001-age-multiple-reasoning/
├── README.md  # 题目内容
└── test-results/
    ├── claude-3.5-sonnet.md  # Claude 3.5 Sonnet 的测试结果
    └── gpt-4o.md             # GPT-4o 的测试结果
```


## Commit Message 规范

本项目遵循 Conventional Commits 规范，这是一种轻量级的 commit message 约定，用于创建明确的提交历史记录。所有提交信息应使用中文的流畅语言和 emoji。

### 提交前的分析步骤

在编写 commit message 之前，请仔细分析 git diff 以理解所做的更改：
- 识别被修改、新增或删除的文件
- 确定更改的性质（例如：错误修复、新功能、重构等）
- 检查是否有破坏性更改

### Commit 类型

| 图标 | 类型 | 说明 |
|------|------|------|
| 🎉 | `init` | 初始化 |
| 🚀 | `release` | 发布新版本 |
| 🎨 | `style` | 代码风格修改（不影响代码运行的变动） |
| ✨ | `feat` | 添加新功能 |
| 🐛 | `fix` | 修复 bug |
| 📝 | `docs` | 对文档进行修改 |
| ♻️ | `refactor` | 代码重构（既不是新增功能，也不是修改 bug 的代码变动） |
| ⚡ | `perf` | 提高性能的代码修改 |
| 🧑‍💻 | `dx` | 优化开发体验 |
| 🔨 | `workflow` | 工作流变动 |
| 🏷️ | `types` | 类型声明修改 |
| 🚧 | `wip` | 工作正在进行中 |
| ✅ | `test` | 测试用例添加及修改 |
| 🔨 | `build` | 影响构建系统或外部依赖关系的更改 |
| 👷 | `ci` | 更改 CI 配置文件和脚本 |
| ❓ | `chore` | 其它不涉及源码以及测试的修改 |
| ⬆️ | `deps` | 依赖项修改 |
| 🔖 | `release` | 发布新版本 |

### 编写步骤

1. **确定适当的提交类型**：根据上表选择最符合更改性质的类型

2. **标记破坏性更改**：如果提交引入了破坏性更改，在类型/范围后面加上感叹号（例如：`feat!:`）

3. **编写主题行**：提供一个简短的、祈使语气的更改描述

4. **添加正文（可选）**：在需要时添加更详细的更改说明，解释更改的动机并与先前的行为进行对比

5. **添加页脚（可选）**：如果有破坏性更改，请在提交正文的末尾描述它们，以"破坏性更改："开头

### 格式规范

```
[emoji][类型][可选范围]: [描述]

[可选正文]

[可选页脚]
```

**必须遵守的规则：**
- 主题行不应超过 50 个字符
- 正文应在 72 个字符处换行
- 在主题行中使用祈使句和现在式
- 主题行结尾不要加句号
- 用空白行将主题与正文分开
- 使用正文解释做了什么和为什么，而不是如何做
- 一个好的 commit message 应该能够完成句子："如果应用，这个提交将 [你的主题行]"

### 格式示例

**简单提交：**
```
🎨 style: 统一代码缩进风格

✨ feat: 添加用户登录功能

🐛 fix: 修复登录页面验证码显示问题

📝 docs: 更新 API 文档说明
```

**包含正文的提交：**
```
✨ feat(auth): 添加 OAuth2 认证支持

实现了基于 OAuth2 协议的第三方登录功能，支持 GitHub 和 Google 账号登录。
用户现在可以使用社交账号快速注册和登录系统。

- 集成 OAuth2 客户端库
- 添加第三方账号绑定逻辑
- 更新用户数据模型
```

**破坏性更改：**
```
✨ feat(api)!: 重构 API 端点结构

将所有 API 端点从 /api/v1 迁移到 /api/v2，并统一了响应格式。

破坏性更改：
- 所有 v1 API 端点将在下个版本中废弃
- 响应格式从 {data, error} 改为 {success, data, message}
- 需要更新客户端代码以适配新的 API 结构
```

## 题目编写规范

### 题目文件命名规范

#### 基准测试题库命名规则

对于三大基准测试题库（代码能力、数理能力、自然语言与逻辑能力），题目目录应遵循以下命名规范：

```
NNN-problem-name/
├── README.md
└── test-results/
```

**目录命名规则：**
- `NNN`：三位数字编号，从 001 开始递增
- `problem-name`：题目的简短英文描述
  - 使用小写字母
  - 单词之间用连字符 `-` 分隔
  - 避免使用特殊字符（除了 `-`）
  - 保持简洁但有描述性

**示例：**
- ✅ `001-binary-search/`
- ✅ `002-matrix-multiplication/`
- ✅ `003-dfs-traversal/`
- ✅ `001-age-multiple-reasoning/`
- ✅ `005-hand-swap-reasoning/`
- ❌ `1-problem/` （编号不足三位）
- ❌ `001_problem_name/` （使用了下划线）
- ❌ `001-Problem-Name/` （使用了大写字母）
- ❌ `001-problem.md` （应该是目录，不是文件）

#### 综合能力测评命名规则

综合能力测评目录下的提示文件统一命名为：
- `prompt.md` - 题目描述文件

### 题目内容格式建议

题目内容应写在 `README.md` 文件中。虽然不强制要求统一的内容结构，但建议参考以下格式：

**代码能力题库建议格式：**
1. **题目描述** - 清晰说明问题背景和要求
2. **输入说明** - 描述输入格式和约束
3. **输出说明** - 描述期望的输出格式
4. **示例** - 提供输入输出示例
5. **提示**（可选） - 解题思路或关键点提示

**逻辑与数理题库建议格式：**
1. **Question** - 题目描述
2. **Analysis** - 详细分析
   - 正确答案
   - 解题过程（可包含多种解法）
   - 常见错误
   - 核心考点

参考示例：`自然语言与逻辑能力基准测试题库/base-test/001-age-multiple-reasoning/README.md`

**重要说明：**
- 当前仓库中已有题目不要求按统一模板重构
- 新题目建议参考同类题库中现有题目的格式
- 可根据题目特性灵活调整内容结构
